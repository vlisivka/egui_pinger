
# Дослідження: Покращення тултіпів для графіків затримок

## Мета
Замінити стандартний тултіп `egui_plot` (координати x та y) на інформативний тултіп, що показує реальне значення затримки або статус "Таймаут" для кожної точки графіка.

## Опис варіантів

### 1. Кастомний `label_formatter` для `Plot`
Це нативний спосіб `egui_plot` для зміни тексту тултіпа.
- **Як це працює**: 
  - Метод `Plot::label_formatter` приймає замикання `Fn(&str, &PlotPoint) -> String`.
  - Ми використовуємо координату `x` (індекс у масиві) для отримання точного значення з історії хоста.
- **Переваги**: Повний контроль над текстом. Можна повністю приховати "x:" та "y:".
- **Недоліки**: Closure має бути `'static`, тому потрібно клонувати частину даних (історію) в середину замикання.

### 2. Використання `Bar::name`
Кожен стовпчик `Bar` має метод `.name()`.
- **Як це працює**: Кожному стовпчику присвоюється ім'я виду "25.4 ms".
- **Переваги**: Простота.
- **Недоліки**: Стандартний форматор все одно показуватиме координати x та y поряд з ім'ям. Це не вирішує проблему користувача («не подобається tooltip з координатами x та y»).

## Рекомендації
Рекомендується **Варіант 1**. Він дозволяє реалізувати саме те, що просить користувач: чисте значення затримки без технічних координат.

Реалізація:
1. Клонувати `status.history`.
2. Додати `.label_formatter(move |_, val| { ... })`.
3. Округлити `val.x` до найближчого цілого, щоб знайти індекс в історії.
4. Повернути рядок із затримкою або локалізованим словом "Timeout".

## Вплив на проєкт
- **src/main.rs**: Зміна конфігурації `Plot` у циклі відображення хостів.
