# Специфікація проєкту egui_pinger

## Призначення
Графічний інтерфейс для інструментів діагностики мережі (`ping`, `mtr`, `nslookup`, `traceroute` та ін.), розроблений для Windows та Linux. Проєкт має особливий акцент на виявленні та діагностиці проблем, що впливають на якість IP-телефонії (VoIP).

## Ключові функції
- **Мульти-хост моніторинг**: Одночасний пінг кількох серверів (стандартно: 1.1.1.1, 8.8.8.8 та SIP-сервер).
- **Розширена перевірка маршрутів**:
    - Використання ICMP.
    - Використання UDP (зокрема специфічних для SIP портів).
- **Діагностика DNS**: Перевірка роботи DNS-серверів.
- **Аналіз якості мережі**:
    - Моніторинг затримок (Latency).
    - Моніторинг тремтіння затримок (Jitter).
    - Виявлення проблем завантаження каналу через аналіз метрик.
- **Логування та архівування**:
    - Ведення журналу подій.
    - Архів логів з автоматичним "укрупненням" (агрегацією) старих даних для економії місця.
- **Режими роботи та затримки**:
    - Для уникнення можливості розшифрування трафіку через виявлення автоматичних пінгів (pattern analysis), затримки між запитами мають бути випадковими в певних межах (наприклад, 2 с ±0.3 с).
    - **Швидкий режим**: Висока частота опитування для швидкого виловлювання плаваючих проблем ("злову" моменту деградації). Типова затримка — 2 с для всіх сервісів.
    - **Повільний режим**: Фоновий моніторинг для загальної перевірки стану мережі.
        - Для віддалених сервісів: від 1 хв до 5 хв.
        - Для внутрішніх сервісів у локальній мережі: 2 с.
- **Автоматична діагностика**:
    - При виявленні проблеми програма автоматично запускає комплекс діагностичних інструментів.
    - Генерація та збереження детального звіту про інцидент.

## Статистичний аналіз та візуалізація
- **Вікно історії**: Програма зберігає та аналізує останні **300 зразків** затримки (RTT) та тремтіння (Jitter).
- **Метрики якості**:
    - **P95 (95-й перцентиль)**: Основний показник стабільності, що ігнорує рідкісні випадкові сплески.
    - **MOS (Mean Opinion Score)**: Оцінка якості голосу для VoIP (1.0 - 4.5).
    - **RTP Jitter (RFC 3550)**: Стандартний метод розрахунку тремтіння для IP-телефонії.
    - **Outliers**: Виявлення та підрахунок пакетів з аномальною затримкою.
- **Візуалізація**: Інтерактивний стовпчиковий графік затримки (Bar Chart) з відображенням критичної межі 150 мс.

## Технологічний стек
- **Мова програмування**: Rust.
- **UI фреймворк**: egui.
- **Цільові ОС**: Linux, Windows.

## Мовна політика
- **Інтерфейс програми**: Англійська.
- **README**: Англійська.
- **Документація та специфікація**: Українська.
- **TODO та плани**: Українська.
